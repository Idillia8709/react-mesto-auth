{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/Resolve.svg","images/Reject.svg","components/InfoTooltip.js","utils/api.js","utils/apiAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onLogout","userData","loggedIn","location","useLocation","className","src","logo","alt","pathname","to","onClick","Footer","props","Date","getFullYear","CurrentUserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","avatar","about","map","card","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","value","onChange","target","id","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","DeletePlacePopup","Register","onRegister","email","password","registerData","setRegisterData","handleChange","handleSubmit","Login","onLogin","loginData","setLoginData","ProtectedRoute","Component","component","InfoTooltip","isRegistered","tooltip","logoResolve","logoReject","altText","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_parseResponse","data","body","JSON","stringify","cardId","authorization","apiAuth","statusText","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isCardPopupOpen","setIsCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setUserData","isInfoTooltip","setIsInfoTooltip","setIsRegistered","setLoggedIn","history","useHistory","checkToken","jwt","push","catch","closeAllPopups","localStorage","getItem","tokenCheck","getUserInfo","err","console","log","message","getCardList","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","register","onShowInfoTooltip","authorize","setItem","sendUserInfo","createCard","s","editUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e9ea3dfe.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nexport default function Header({ onLogout, userData, loggedIn }) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <header className=\"header header_position\">\r\n      <img\r\n        className=\"logo logo_position\"\r\n        src={logo}\r\n        alt='Логотип mesto Russia'\r\n      />\r\n\r\n      <ul className=\"header__nav\">\r\n        {location.pathname === \"/sign-up\" && <li className=\"header__nav-links\">\r\n          <Link to=\"/sign-in\" className=\"header__nav-link\">Войти</Link>\r\n        </li>}\r\n        {location.pathname === \"/sign-in\" && <li className=\"header__nav-links\">\r\n          <Link to=\"/sign-up\" className=\"header__nav-link\">Регистрация</Link>\r\n        </li>}\r\n        {loggedIn && <li className=\"header__nav-links\">\r\n          <span>{userData}</span>\r\n          <Link to=\"/sign-in\" className=\"header__nav-link\" onClick={onLogout} >Выйти</Link>\r\n        </li>}\r\n      </ul>\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Footer(props) {\r\n  return (\r\n    <footer className=\"footer footer_position\">\r\n      <p\r\n        className=\"footer__copyright\">\r\n        &copy;\r\n        {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  )\r\n}","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card({ name, link, likes, owner, _id, onCardClick, onCardLike, onCardDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__button-delete ${isOwn ? 'element__button-delete_visible' : 'element__button-delete_hidden'}`);\r\n  const isLiked = likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (`element__button-like ${isLiked ? 'element__button-like_active_black' : ''}`);\r\n\r\n  function handleClick() {\r\n    onCardClick({ name, link })\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike({ name, link, likes, owner, _id });\r\n  }\r\n  function handleDeleteCardClick() {\r\n    onCardDeleteClick({ likes, _id, name, link, owner })\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button className=\"element__button-image\" type=\"button\" onClick={handleClick}>\r\n        <img className=\"element__image\"\r\n          src={link}\r\n          alt={name}\r\n        />\r\n      </button>\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{name}</h2>\r\n        <div className=\"element__like-counter\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleCardLike}>\r\n          </button>\r\n          <span className=\"element__number-of-like\">{likes.length}</span>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteCardClick}>\r\n        </button>\r\n      </div>\r\n    </li>\r\n  )\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete, onCardDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile profile_position\">\r\n        <div className=\"profile__overlay\" onClick={onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\r\n        </div>\r\n        <div className=\"profile__description\">\r\n          <div className=\"profile__edit\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button onClick={onEditProfile} type=\"button\" className=\"profile__button-edit\"></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={onAddPlace} type=\"button\" className=\"profile__button-add\"></button>\r\n      </section>\r\n      <section className=\"places places_position\">\r\n        <ul className=\"elements\">\r\n          {cards.map(card =>\r\n            <Card\r\n              key={card._id} {...card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDeleteClick={onCardDeleteClick}\r\n            />\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default function ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__image-container\">\r\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n        <h3 className=\"popup__paragraph\">{card.name}</h3>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__button-exit\"></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm({ name, title, isOpen, onClose, children, onSubmit}) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <form\r\n        className={`popup__container popup__container_form_${name}`}\r\n        onSubmit={onSubmit}\r\n        name={`popup-${name}`}\r\n        noValidate>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button type=\"submit\" className={`popup__button-form popup__button-form_save_${name}`}>Сохранить</button>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__button-exit\"></button>\r\n      </form>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionChacge(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={name || ''}\r\n          onChange={handleNameChange}\r\n          className=\" popup__input popup__input_title\"\r\n          name=\"input-title\"\r\n          id=\"input-title\"\r\n          placeholder=\"Имя\"\r\n          required minLength=\"2\"\r\n          maxLength=\"40\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span id=\"input-title-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={description || ''}\r\n          onChange={handleDescriptionChacge}\r\n          className=\"popup__input popup__input_subtitle\"\r\n          name=\"input-subtitle\"\r\n          id=\"input-subtitle\"\r\n          placeholder=\"О себе\"\r\n          required minLength=\"2\"\r\n          maxLength=\"200\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span id=\"input-subtitle-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          ref={avatarRef}\r\n          className=\" popup__input popup__input_url-avatar\"\r\n          name=\"input-url-avatar\"\r\n          id=\"input-avatar\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          required autoComplete=\"off\" />\r\n        <span id=\"input-avatar-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n\r\n}","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [namePlace, setNamePlace] = useState('');\r\n  const [linkPlace, setLinkPlace] = useState('');\r\n\r\n  function handleNamePlaceChange(event) {\r\n    setNamePlace(event.target.value);\r\n  }\r\n\r\n  function handleLinkPlaceChange(event) {\r\n    setLinkPlace(event.target.value);\r\n  }\r\n\r\n  function handleClear() {\r\n    setNamePlace('');\r\n    setLinkPlace('');\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onAddPlace({\r\n      name: namePlace,\r\n      link: linkPlace\r\n    });\r\n    handleClear();\r\n    \r\n\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={namePlace ||  ''}\r\n          onChange={handleNamePlaceChange}\r\n          className=\" popup__input popup__input_name\"\r\n          name=\"input-name\"\r\n          id=\"input-name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          autoComplete=\"off\" />\r\n        <span id=\"input-name-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          value={linkPlace || ''}\r\n          onChange={handleLinkPlaceChange}\r\n          className=\"popup__input popup__input_link\"\r\n          name=\"input-image-link\"\r\n          id=\"input-link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          autoComplete=\"off\" />\r\n        <span id=\"input-link-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function DeletePlacePopup({ card, isOpen, onClose, onCardDelete }) {\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"deleteCard\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    />\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister}) {\r\n  const [registerData, setRegisterData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setRegisterData({\r\n      ...registerData,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (!registerData.email || !registerData.password) {\r\n      return;\r\n    }\r\n    onRegister(registerData);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <form\r\n        className=\"register__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2 className=\"register__title\">Регистрация</h2>\r\n        <input\r\n          className=\"register__input\"\r\n          type=\"text\"\r\n          required\r\n          id=\"emain\"\r\n          name=\"email\"\r\n          value={registerData.email}\r\n          placeholder=\"Email\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className=\"register__input\"\r\n          type=\"password\"\r\n          required\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={registerData.password}\r\n          placeholder=\"Пароль\"\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className=\"register__button-submit\"\r\n          type=\"submit\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          Зарегистрироваться\r\n          </button>\r\n      </form>\r\n      <p className=\"register__link\">Уже зарегистрированы?\r\n      <Link className=\"register__signup\" to=\"/sign-in\">Войти</Link>\r\n      </p>\r\n    </div>\r\n\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n \r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setLoginData({\r\n      ...loginData,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (!loginData.email || !loginData.password) {\r\n      return;\r\n    }\r\n    onLogin(loginData)\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form\r\n        className=\"login__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={loginData.email}\r\n          placeholder=\"Email\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          required\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={loginData.password}\r\n          placeholder=\"Пароль\"\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className=\"login__button-submit\"\r\n          type=\"submit\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          Войти\r\n          </button>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n    {() =>\r\n      props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n    }\r\n  </Route>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/Resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Reject.df8eddf6.svg\";","import logoResolve from '../images/Resolve.svg';\r\nimport logoReject from '../images/Reject.svg';\r\nimport React from \"react\";\r\n\r\nexport default function InfoTooltip({ isOpen, onClose, isRegistered }) {\r\n  const logo = isRegistered ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.';\r\n  const tooltip = isRegistered ? logoResolve : logoReject;\r\n  const altText = isRegistered ? 'Успешная регистрация' : 'Что-то пошло не так';\r\n  return (\r\n    <div className={`popup popup_type_infotooltip ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"infoTooltip\">\r\n        <img\r\n          className=\"infoTooltip__logo\"\r\n          src={tooltip}\r\n          alt={altText}\r\n        />\r\n        <h3 className=\"infoTooltip__title\">\r\n          {logo}\r\n        </h3>\r\n        <button type=\"button\" onClick={onClose} className=\"infoTooltip__button-exit\"></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  _parseResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка со статус-кодом ${res.status}`));\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'GET',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  createCard(data) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n\r\n  }\r\n\r\n  deleteCard(_id) {\r\n    return fetch(`${this.url}/cards/${_id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  addCardLike(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  removeLikeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  sendUserInfo(data) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  editUserAvatar(data) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n}\r\n\r\nconst config = {\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n  headers: {\r\n\r\n    authorization: 'a2d12257-48f2-4074-bd6c-08a7c9602f41',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\nconst api = new Api(config);\r\nexport default api;\r\n","class ApiAuth {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  _parseResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка со статус-кодом ${res.status}: ${res.statusText}`));\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this.url}/signup`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({email, password})\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  authorize(email, password) {\r\n    return fetch(`${this.url}/signin`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({password, email})\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  checkToken(token) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        ...this.headers,\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n}\r\n\r\nconst config = {\r\n  url: 'https://auth.nomoreparties.co',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nconst apiAuth = new ApiAuth(config);\r\nexport default apiAuth;","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePlacePopup from './DeletePlacePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport api from '../utils/api';\r\nimport apiAuth from '../utils/apiAuth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [userData, setUserData] = useState('');\r\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n  const [isRegistered, setIsRegistered] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n\r\n    tokenCheck();\r\n\r\n    api.getUserInfo()\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n\r\n    api.getCardList()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }, []);\r\n\r\n  function checkToken(jwt) {\r\n    apiAuth.checkToken(jwt)\r\n      .then((res) => {\r\n        setUserData(res.data.email);\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n      })\r\n      .catch(() => { history.push('/sign-in') });\r\n  }\r\n\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (!jwt) {\r\n      return\r\n    }\r\n    checkToken(jwt);\r\n  }\r\n\r\n  function handleLogin({ email, password }) {\r\n    return apiAuth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem('jwt', res.token);\r\n        checkToken(res.token);\r\n      })\r\n      .catch(err => {\r\n        console.log('Ошибка:', err.message);\r\n      });\r\n  }\r\n\r\n\r\n  function handleRegister({ email, password }) {\r\n    return apiAuth\r\n      .register(email, password)\r\n      .then(() => {\r\n        setIsRegistered(true);\r\n        setIsInfoTooltip(true);\r\n        history.push('/sing-in');\r\n      })\r\n      .catch(err => {\r\n        setIsRegistered(false);\r\n        setIsInfoTooltip(true);\r\n        console.log('Ошибка:', err.message);\r\n      });\r\n  }\r\n\r\n  function handleLogOut() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    setUserData('');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    const owner = card.owner._id === currentUser._id;\r\n    if (owner) {\r\n      api.deleteCard(card._id)\r\n        .then(() => {\r\n          setCards(cards => cards.filter(({ _id }) => _id !== card._id))\r\n          closeAllPopups();\r\n        })\r\n        .catch(err => console.log('Ошибка:', err.message))\r\n    }\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.createCard(card)\r\n      .then(card => {\r\n        setCards([card, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsDeletePlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsCardPopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.sendUserInfo(data)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.editUserAvatar(data)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleShowInfoTooltip() {\r\n    setIsInfoTooltip(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsCardPopupOpen(false);\r\n    setIsDeletePlacePopupOpen(false);\r\n    setIsInfoTooltip(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header\r\n            loggedIn={loggedIn}\r\n            userData={userData}\r\n            onLogout={handleLogOut}\r\n          />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact path=\"/\"\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDeleteClick={handleDeleteCardClick}\r\n              cards={cards}\r\n            />\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onRegister={handleRegister}\r\n                onShowInfoTooltip={handleShowInfoTooltip}\r\n              />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login\r\n                onLogin={handleLogin}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen} s\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <DeletePlacePopup\r\n            card={selectedCard}\r\n            isOpen={isDeletePlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isOpen={isCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltip}\r\n            onClose={closeAllPopups}\r\n            isRegistered={isRegistered}\r\n          />\r\n\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider >\r\n\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}